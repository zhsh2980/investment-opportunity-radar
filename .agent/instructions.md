# 投资机会雷达 - AI 开发规则

## 核心原则

1. **文档优先**：本项目有 10 份设计文档（位于 `docs/设计文档/`），AI 在做任何决定前必须先查阅相关文档。

2. **遵循已有决定**：如果文档中已经规划好了某个实现方式，必须遵循，不得自作主张。

3. **提出异议**：如果认为文档中的规则不合理，应先向用户提出建议，经讨论确认后再修改。

---

## 文档分层（按优先级）

### 最高优先级（不可违背）
- **文档 1**：需求规格说明书（SRS/PRD）
- **文档 6**：Prompt 与输出 JSON Schema
- **文档 9**：任务编排与核心流程
- **文档 10**：测试与验收

### 结构设计层
- **文档 2**：概要设计（HLD）
- **文档 3**：详细设计（LLD）
- **文档 5**：数据库设计

### 对外契约层
- **文档 4**：接口设计（API Spec）
- **文档 7**：UI 交互设计

### 交付上线层
- **文档 8**：部署与运维

---

## 开发流程

1. 开始新功能前，先阅读相关文档
2. 按工作流文档（文档 0）的阶段划分推进
3. 每个阶段完成后，对照验收标准检查
4. 遇到不确定的问题，先查文档，再问用户

---

## 技术栈（文档已规划）

- **后端**：Python + FastAPI + Celery
- **数据库**：PostgreSQL
- **缓存**：Redis
- **部署**：Docker Compose + Nginx

---

## 关键约束

- WeRSS 访问：必须通过 HTTP API（`http://localhost:8001/api`），不得直连 SQLite
- DeepSeek：必须使用思考模型（`deepseek-reasoner`）
- 推送规则：前 4 次命中才推，22:00 必推日报
- 阈值：默认 60 分，可配置

---

## 开发环境

- **本地（MacBook）**：写代码、提交
- **服务器（腾讯云）**：运行服务、测试
- **流程**：本地 → GitHub → 服务器
