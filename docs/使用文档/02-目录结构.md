# 02 - ç›®å½•ç»“æ„

## 2.1 æ•´ä½“ç›®å½•æ ‘

```
investment-opportunity-radar/
â”œâ”€â”€ docker-compose.yml          # Docker ç¼–æ’é…ç½®
â”œâ”€â”€ Dockerfile                  # Web æœåŠ¡é•œåƒ
â”œâ”€â”€ requirements.txt            # Python ä¾èµ–
â”œâ”€â”€ .env.example               # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”‚
â”œâ”€â”€ docs/                      # ğŸ“š æ–‡æ¡£
â”‚   â”œâ”€â”€ è®¾è®¡æ–‡æ¡£/              # 10 ä»½è®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ ä½¿ç”¨æ–‡æ¡£/              # æœ¬æ–‡æ¡£ç³»åˆ—
â”‚   â””â”€â”€ key/                   # æ•æ„Ÿä¿¡æ¯ï¼ˆSSH Key ç­‰ï¼‰
â”‚
â”œâ”€â”€ src/                       # ğŸ“¦ æºä»£ç æ ¹ç›®å½•
â”‚   â”œâ”€â”€ app/                   # ä¸»åº”ç”¨
â”‚   â”‚   â”œâ”€â”€ main.py           # â­ FastAPI åº”ç”¨å…¥å£
â”‚   â”‚   â”œâ”€â”€ database.py       # æ•°æ®åº“è¿æ¥
â”‚   â”‚   â”œâ”€â”€ celery_app.py     # Celery é…ç½® + å®šæ—¶ä»»åŠ¡
â”‚   â”‚   â”œâ”€â”€ logging_config.py # æ—¥å¿—é…ç½®
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ core/             # æ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ config.py     # é…ç½®åŠ è½½
â”‚   â”‚   â”‚   â””â”€â”€ security.py   # è®¤è¯å®‰å…¨
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ domain/           # é¢†åŸŸæ¨¡å‹
â”‚   â”‚   â”‚   â””â”€â”€ models.py     # â­ æ‰€æœ‰æ•°æ®åº“æ¨¡å‹
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ clients/          # å¤–éƒ¨æœåŠ¡å®¢æˆ·ç«¯
â”‚   â”‚   â”‚   â”œâ”€â”€ werss.py      # WeRSS API
â”‚   â”‚   â”‚   â”œâ”€â”€ deepseek.py   # DeepSeek API
â”‚   â”‚   â”‚   â””â”€â”€ dingtalk.py   # é’‰é’‰æ¨é€
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ services/         # ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ analyzer.py   # åˆ†ææœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ daily_report.py # æ—¥æŠ¥ç”Ÿæˆ
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ tasks/            # Celery ä»»åŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ slot_task.py  # â­ æ ¸å¿ƒå®šæ—¶ä»»åŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ web/              # Web å±‚
â”‚   â”‚       â”œâ”€â”€ routers/      # è·¯ç”±
â”‚   â”‚       â”‚   â”œâ”€â”€ auth.py   # è®¤è¯è·¯ç”±
â”‚   â”‚       â”‚   â”œâ”€â”€ pages.py  # â­ é¡µé¢è·¯ç”±
â”‚   â”‚       â”‚   â””â”€â”€ admin.py  # ç®¡ç† API
â”‚   â”‚       â”‚
â”‚   â”‚       â”œâ”€â”€ templates/    # Jinja2 æ¨¡æ¿
â”‚   â”‚       â”‚   â”œâ”€â”€ base.html # åŸºç¡€æ¨¡æ¿
â”‚   â”‚       â”‚   â”œâ”€â”€ login.html
â”‚   â”‚       â”‚   â””â”€â”€ pages/    # é¡µé¢æ¨¡æ¿
â”‚   â”‚       â”‚       â”œâ”€â”€ dashboard.html
â”‚   â”‚       â”‚       â”œâ”€â”€ daily.html
â”‚   â”‚       â”‚       â”œâ”€â”€ analysis.html
â”‚   â”‚       â”‚       â”œâ”€â”€ history.html
â”‚   â”‚       â”‚       â”œâ”€â”€ prompts.html
â”‚   â”‚       â”‚       â””â”€â”€ settings.html
â”‚   â”‚       â”‚
â”‚   â”‚       â””â”€â”€ static/       # é™æ€èµ„æº
â”‚   â”‚           â”œâ”€â”€ app.css   # å…¨å±€æ ·å¼
â”‚   â”‚           â”œâ”€â”€ pages.css # é¡µé¢æ ·å¼
â”‚   â”‚           â””â”€â”€ app.js    # JS è„šæœ¬
â”‚   â”‚
â”‚   â””â”€â”€ manage.py             # ç®¡ç†å‘½ä»¤
â”‚
â”œâ”€â”€ scripts/                   # è„šæœ¬
â”‚   â””â”€â”€ init_db.py            # æ•°æ®åº“åˆå§‹åŒ–
â”‚
â””â”€â”€ nginx/                     # Nginx é…ç½®
    â””â”€â”€ default.conf
```

---

## 2.2 å…³é”®æ–‡ä»¶è¯´æ˜

### â­ æœ€å¸¸ä¿®æ”¹çš„æ–‡ä»¶

| æ–‡ä»¶ | ç”¨é€” | ä¿®æ”¹åœºæ™¯ |
|------|------|----------|
| `src/app/main.py` | åº”ç”¨å…¥å£ | æ·»åŠ æ–°è·¯ç”±ã€ä¸­é—´ä»¶ |
| `src/app/domain/models.py` | æ•°æ®åº“æ¨¡å‹ | æ·»åŠ æ–°è¡¨ã€ä¿®æ”¹å­—æ®µ |
| `src/app/web/routers/pages.py` | é¡µé¢è·¯ç”± | æ·»åŠ æ–°é¡µé¢ |
| `src/app/web/routers/admin.py` | API è·¯ç”± | æ·»åŠ æ–° API |
| `src/app/tasks/slot_task.py` | å®šæ—¶ä»»åŠ¡ | ä¿®æ”¹åˆ†æé€»è¾‘ |
| `src/app/celery_app.py` | Celery é…ç½® | ä¿®æ”¹è°ƒåº¦æ—¶é—´ |

### é…ç½®æ–‡ä»¶

| æ–‡ä»¶ | ç”¨é€” |
|------|------|
| `.env` | ç¯å¢ƒå˜é‡ï¼ˆæ•æ„Ÿä¿¡æ¯ï¼‰|
| `docker-compose.yml` | å®¹å™¨é…ç½® |
| `nginx/default.conf` | Nginx é…ç½® |

### æ¨¡æ¿æ–‡ä»¶

| æ–‡ä»¶ | å¯¹åº”é¡µé¢ |
|------|----------|
| `templates/base.html` | å…¬å…±å¸ƒå±€ï¼ˆå¯¼èˆªæ ã€é¡µè„šï¼‰|
| `templates/login.html` | ç™»å½•é¡µ |
| `templates/pages/dashboard.html` | é¦–é¡µ |
| `templates/pages/daily.html` | æ—¥æŠ¥é¡µ |
| `templates/pages/analysis.html` | åˆ†æè¯¦æƒ…é¡µ |
| `templates/pages/history.html` | å†å²åˆ—è¡¨é¡µ |
| `templates/pages/prompts.html` | Prompt ç®¡ç†é¡µ |
| `templates/pages/settings.html` | è®¾ç½®é¡µ |

### æ ·å¼æ–‡ä»¶

| æ–‡ä»¶ | å†…å®¹ |
|------|------|
| `static/app.css` | å…¨å±€æ ·å¼ï¼ˆå˜é‡ã€ç™»å½•é¡µã€åŸºç¡€æ ·å¼ï¼‰|
| `static/pages.css` | é¡µé¢ç‰¹å®šæ ·å¼ï¼ˆå„é¡µé¢å¸ƒå±€ã€ç»„ä»¶ï¼‰|
